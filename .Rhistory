#   mutate(total = wkapinnt+aksje+rentinnt) %>%
#   mutate(diff = lonn - total) %>%
#   ggplot(aes(x = sfpros_uten_feriekorr_2022, y = diff)) +
#   geom_point()
# NSD3201 %>%
#   mutate(sfpros_uten_feriekorr_2022 = as.numeric(sfpros_uten_feriekorr_2022),
#          sfpros_uten_feriekorr_2023 = as.numeric(sfpros_uten_feriekorr_2023),
#          kullaldr = as.numeric(kullaldr)) %>%
#   ggplot(aes(x = kullaldr)) +
#   geom_point(aes(y=sfpros_uten_feriekorr_2023), color="red", alpha=0.4) +
#   geom_point(aes(y=sfpros_uten_feriekorr_2022), color="blue", alpha=0.2)
View(NSD3201)
![dokumentobjekter/bilder/codebook]
View(NSD3201)
rm(list = ls())
library(tidyverse)
library(zoo)
library(scales)
library(ggrepel)
library(readxl)
library(httr)
library(jsonlite)
library(rjstat)
library(readr)
NSD3201 <- read_csv("Data/NSD3201.csv", show_col_types = FALSE)
# count(NSD3201, wkapinnt+aksje+rentinnt > lonn)
# NSD3201 %>%
#   mutate(lonn = as.numeric(lonn),
#          wkapinnt = as.numeric(wkapinnt),
#          aksje = as.numeric(aksje),
#          rentinnt = as.numeric(rentinnt)) %>%
#   mutate(total = wkapinnt+aksje+rentinnt) %>%
#   mutate(diff = lonn - total) %>%
#   ggplot(aes(x = sfpros_uten_feriekorr_2022, y = diff)) +
#   geom_point()
# NSD3201 %>%
#   mutate(sfpros_uten_feriekorr_2022 = as.numeric(sfpros_uten_feriekorr_2022),
#          sfpros_uten_feriekorr_2023 = as.numeric(sfpros_uten_feriekorr_2023),
#          kullaldr = as.numeric(kullaldr)) %>%
#   ggplot(aes(x = kullaldr)) +
#   geom_point(aes(y=sfpros_uten_feriekorr_2023), color="red", alpha=0.4) +
#   geom_point(aes(y=sfpros_uten_feriekorr_2022), color="blue", alpha=0.2)
View(NSD3201)
NSD3201 <- NSD3201 %>%
mutate(
# Avhengig, hoveduavhengig og kontrollvariabler
Sykefravær_2022 = sfpros_uten_feriekorr_2022,
Sykefravær_2023 = sfpros_uten_feriekorr_2023,
Formue = agg_f_08,
Alder = kullaldr,
Utdanning = utdnivaa,
Kjønn = kjonn,
Tilfredshet = Sp59g,
Motivasjon = SpMotEng_ny,
Barn = barn05,
# Jobbressurser
Støtte_sjef = QPS72_ny,
Støtte_kollega = QPS73_ny,
Tilbakemelding_sjef = Raad3a_ny,
Arbeidsresultater = QPS78_ny,
Grad_selvbestemming_oppgaver = Sp56a2,
Grad_selvbestemming_arbeid_som_skal_gjøres = Sp56b2,
Grad_arbeidstempo = QPS47,
Grad_påvirke_beslutning_arbeid = QPS53,
# Jobbkrav
For_mye_arbeid = QPS15_ny,
Høyt_arbeidstempo = QPS14_ny,
Ekstra_arbeid = Sp47f)
NSD3201 <- NSD3201 %>%
mutate(
# Avhengig, hoveduavhengig og kontrollvariabler
Sykefravær_2022 = sfpros_uten_feriekorr_2022,
Sykefravær_2023 = sfpros_uten_feriekorr_2023,
Formue = agg_f_08,
Alder = kullaldr,
Utdanning = utdnivaa,
Kjønn = Kjonn,
Tilfredshet = Sp59g,
Motivasjon = SpMotEng_ny,
Barn = barn05,
# Jobbressurser
Støtte_sjef = QPS72_ny,
Støtte_kollega = QPS73_ny,
Tilbakemelding_sjef = Raad3a_ny,
Arbeidsresultater = QPS78_ny,
Grad_selvbestemming_oppgaver = Sp56a2,
Grad_selvbestemming_arbeid_som_skal_gjøres = Sp56b2,
Grad_arbeidstempo = QPS47,
Grad_påvirke_beslutning_arbeid = QPS53,
# Jobbkrav
For_mye_arbeid = QPS15_ny,
Høyt_arbeidstempo = QPS14_ny,
Ekstra_arbeid = Sp47f)
NSD3201 <- NSD3201 %>%
mutate(
# Avhengig, hoveduavhengig og kontrollvariabler
Sykefravær_2022 = sfpros_uten_feriekorr_2022,
Sykefravær_2023 = sfpros_uten_feriekorr_2023,
Formue = agg_f_08,
Alder = kullaldr,
Utdanning = utdnivaa,
Kjønn = Kjonn,
Tilfredshet = Sp59g,
Motivasjon = SpMotEng_ny,
Barn = barn05,
# Jobbressurser
Støtte_sjef = QPS72_ny,
Støtte_kollega = QPS73_ny,
Tilbakemelding_sjef = Raad3a_ny,
Arbeidsresultater = QPS78_ny,
Grad_selvbestemming_oppgaver = Sp56a2,
Grad_selvbestemming_arbeid_som_skal_gjøres = Sp56b2,
Grad_arbeidstempo = QPS47,
Grad_påvirke_beslutning_arbeid = QPS53,
# Jobbkrav
For_mye_arbeid = QPS15_ny,
Høyt_arbeidstempo = QPS14_ny,
Ekstra_arbeid = Sp47f) %>%
select(
Sykefravær_2022,
Sykefravær_2023,
Formue,
Alder,
Utdanning,
Kjønn,
Tilfredshet,
Motivasjon,
Barn,
Støtte_sjef,
Støtte_kollega,
Tilbakemelding_sjef,
Arbeidsresultater,
Grad_selvbestemming_oppgaver,
Grad_selvbestemming_arbeid_som_skal_gjøres,
Grad_arbeidstempo,
Grad_påvirke_beslutning_arbeid,
For_mye_arbeid,
Høyt_arbeidstempo,
Ekstra_arbeid
)
View(NSD3201)
View(NSD3201)
NSD3201 <- NSD3201 %>%
mutate(
# Avhengig, hoveduavhengig og kontrollvariabler
Sykefravær_2022 = sfpros_uten_feriekorr_2022,
Sykefravær_2023 = sfpros_uten_feriekorr_2023,
Formue = agg_f_08,
Alder = kullaldr,
Utdanning = utdnivaa,
Kjønn = Kjonn,
Tilfredshet = Sp59g,
Motivasjon = SpMotEng_ny,
Barn = barn05,
# Jobbressurser
Støtte_sjef = QPS72_ny,
Støtte_kollega = QPS73_ny,
Tilbakemelding_sjef = Raad3a_ny,
Arbeidsresultater = QPS78_ny,
Grad_selvbestemming_oppgaver = Sp56a2,
Grad_selvbestemming_arbeid_som_skal_gjøres = Sp56b2,
Grad_arbeidstempo = QPS47,
Grad_påvirke_beslutning_arbeid = QPS53,
# Jobbkrav
For_mye_arbeid = QPS15_ny,
Høyt_arbeidstempo = QPS14_ny,
Ekstra_arbeid = Sp47f)
rm(list = ls())
library(tidyverse)
library(zoo)
library(scales)
library(ggrepel)
library(readxl)
library(httr)
library(jsonlite)
library(rjstat)
library(readr)
NSD3201 <- read_csv("Data/NSD3201.csv", show_col_types = FALSE)
# count(NSD3201, wkapinnt+aksje+rentinnt > lonn)
# NSD3201 %>%
#   mutate(lonn = as.numeric(lonn),
#          wkapinnt = as.numeric(wkapinnt),
#          aksje = as.numeric(aksje),
#          rentinnt = as.numeric(rentinnt)) %>%
#   mutate(total = wkapinnt+aksje+rentinnt) %>%
#   mutate(diff = lonn - total) %>%
#   ggplot(aes(x = sfpros_uten_feriekorr_2022, y = diff)) +
#   geom_point()
# NSD3201 %>%
#   mutate(sfpros_uten_feriekorr_2022 = as.numeric(sfpros_uten_feriekorr_2022),
#          sfpros_uten_feriekorr_2023 = as.numeric(sfpros_uten_feriekorr_2023),
#          kullaldr = as.numeric(kullaldr)) %>%
#   ggplot(aes(x = kullaldr)) +
#   geom_point(aes(y=sfpros_uten_feriekorr_2023), color="red", alpha=0.4) +
#   geom_point(aes(y=sfpros_uten_feriekorr_2022), color="blue", alpha=0.2)
NSD3201 <- NSD3201 %>%
mutate(
# Avhengig, hoveduavhengig og kontrollvariabler
Sykefravær_2022 = sfpros_uten_feriekorr_2022,
Sykefravær_2023 = sfpros_uten_feriekorr_2023,
Formue = agg_f_08,
Alder = kullaldr,
Utdanning = utdnivaa,
Kjønn = Kjonn,
Tilfredshet = Sp59g,
Motivasjon = SpMotEng_ny,
Barn = barn05,
# Jobbressurser
Støtte_sjef = QPS72_ny,
Støtte_kollega = QPS73_ny,
Tilbakemelding_sjef = Raad3a_ny,
Arbeidsresultater = QPS78_ny,
Grad_selvbestemming_oppgaver = Sp56a2,
Grad_selvbestemming_arbeid_som_skal_gjøres = Sp56b2,
Grad_arbeidstempo = QPS47,
Grad_påvirke_beslutning_arbeid = QPS53,
# Jobbkrav
For_mye_arbeid = QPS15_ny,
Høyt_arbeidstempo = QPS14_ny,
Ekstra_arbeid = Sp47f)
NSD3201 <- NSD3201 %>%
transmute(
# Avhengig, hoveduavhengig og kontrollvariabler
Sykefravær_2022 = sfpros_uten_feriekorr_2022,
Sykefravær_2023 = sfpros_uten_feriekorr_2023,
Formue = agg_f_08,
Alder = kullaldr,
Utdanning = utdnivaa,
Kjønn = Kjonn,
Tilfredshet = Sp59g,
Motivasjon = SpMotEng_ny,
Barn = barn05,
# Jobbressurser
Støtte_sjef = QPS72_ny,
Støtte_kollega = QPS73_ny,
Tilbakemelding_sjef = Raad3a_ny,
Arbeidsresultater = QPS78_ny,
Grad_selvbestemming_oppgaver = Sp56a2,
Grad_selvbestemming_arbeid_som_skal_gjøres = Sp56b2,
Grad_arbeidstempo = QPS47,
Grad_påvirke_beslutning_arbeid = QPS53,
# Jobbkrav
For_mye_arbeid = QPS15_ny,
Høyt_arbeidstempo = QPS14_ny,
Ekstra_arbeid = Sp47f)
View(NSD3201)
NSD3201 <- NSD3201 %>%
transmute(
# Avhengig, hoveduavhengig og kontrollvariabler
Sykefravær_2022 = sfpros_uten_feriekorr_2022,
Sykefravær_2023 = sfpros_uten_feriekorr_2023,
Formue = agg_f_08,
Alder = kullaldr,
Utdanning = utdnivaa,
Kjønn = Kjonn,
Tilfredshet = Sp59g,
Motivasjon = SpMotEng_ny,
Barn = barn05,
# Jobbressurser
Støtte_sjef = QPS72_ny,
Støtte_kollega = QPS73_ny,
Tilbakemelding_sjef = Raad3a_ny,
Arbeidsresultater = QPS78_ny,
Grad_selvbestemming_oppgaver = Sp56a2,
Grad_selvbestemming_arbeid_som_skal_gjøres = Sp56b2,
Grad_arbeidstempo = QPS47,
Grad_påvirke_beslutning_arbeid = QPS53,
# Jobbkrav
For_mye_arbeid = QPS15_ny,
Høyt_arbeidstempo = QPS14_ny,
Ekstra_arbeid = Sp47f,
#Fjerner NA verdier
drop_na = TRUE)
rm(list = ls())
library(tidyverse)
library(zoo)
library(scales)
library(ggrepel)
library(readxl)
library(httr)
library(jsonlite)
library(rjstat)
library(readr)
NSD3201 <- read_csv("Data/NSD3201.csv", show_col_types = FALSE)
# count(NSD3201, wkapinnt+aksje+rentinnt > lonn)
# NSD3201 %>%
#   mutate(lonn = as.numeric(lonn),
#          wkapinnt = as.numeric(wkapinnt),
#          aksje = as.numeric(aksje),
#          rentinnt = as.numeric(rentinnt)) %>%
#   mutate(total = wkapinnt+aksje+rentinnt) %>%
#   mutate(diff = lonn - total) %>%
#   ggplot(aes(x = sfpros_uten_feriekorr_2022, y = diff)) +
#   geom_point()
# NSD3201 %>%
#   mutate(sfpros_uten_feriekorr_2022 = as.numeric(sfpros_uten_feriekorr_2022),
#          sfpros_uten_feriekorr_2023 = as.numeric(sfpros_uten_feriekorr_2023),
#          kullaldr = as.numeric(kullaldr)) %>%
#   ggplot(aes(x = kullaldr)) +
#   geom_point(aes(y=sfpros_uten_feriekorr_2023), color="red", alpha=0.4) +
#   geom_point(aes(y=sfpros_uten_feriekorr_2022), color="blue", alpha=0.2)
NSD3201 <- NSD3201 %>%
transmute(
# Avhengig, hoveduavhengig og kontrollvariabler
Sykefravær_2022 = sfpros_uten_feriekorr_2022,
Sykefravær_2023 = sfpros_uten_feriekorr_2023,
Formue = agg_f_08,
Alder = kullaldr,
Utdanning = utdnivaa,
Kjønn = Kjonn,
Tilfredshet = Sp59g,
Motivasjon = SpMotEng_ny,
Barn = barn05,
# Jobbressurser
Støtte_sjef = QPS72_ny,
Støtte_kollega = QPS73_ny,
Tilbakemelding_sjef = Raad3a_ny,
Arbeidsresultater = QPS78_ny,
Grad_selvbestemming_oppgaver = Sp56a2,
Grad_selvbestemming_arbeid_som_skal_gjøres = Sp56b2,
Grad_arbeidstempo = QPS47,
Grad_påvirke_beslutning_arbeid = QPS53,
# Jobbkrav
For_mye_arbeid = QPS15_ny,
Høyt_arbeidstempo = QPS14_ny,
Ekstra_arbeid = Sp47f,
#Fjerner NA verdier
drop_na = TRUE)
View(NSD3201)
rm(list = ls())
library(tidyverse)
library(zoo)
library(scales)
library(ggrepel)
library(readxl)
library(httr)
library(jsonlite)
library(rjstat)
library(readr)
NSD3201 <- read_csv("Data/NSD3201.csv", show_col_types = FALSE)
# count(NSD3201, wkapinnt+aksje+rentinnt > lonn)
# NSD3201 %>%
#   mutate(lonn = as.numeric(lonn),
#          wkapinnt = as.numeric(wkapinnt),
#          aksje = as.numeric(aksje),
#          rentinnt = as.numeric(rentinnt)) %>%
#   mutate(total = wkapinnt+aksje+rentinnt) %>%
#   mutate(diff = lonn - total) %>%
#   ggplot(aes(x = sfpros_uten_feriekorr_2022, y = diff)) +
#   geom_point()
# NSD3201 %>%
#   mutate(sfpros_uten_feriekorr_2022 = as.numeric(sfpros_uten_feriekorr_2022),
#          sfpros_uten_feriekorr_2023 = as.numeric(sfpros_uten_feriekorr_2023),
#          kullaldr = as.numeric(kullaldr)) %>%
#   ggplot(aes(x = kullaldr)) +
#   geom_point(aes(y=sfpros_uten_feriekorr_2023), color="red", alpha=0.4) +
#   geom_point(aes(y=sfpros_uten_feriekorr_2022), color="blue", alpha=0.2)
NSD3201 <- NSD3201 %>%
transmute(
# Avhengig, hoveduavhengig og kontrollvariabler
Sykefravær_2022 = sfpros_uten_feriekorr_2022,
Sykefravær_2023 = sfpros_uten_feriekorr_2023,
Formue = agg_f_08,
Alder = kullaldr,
Utdanning = utdnivaa,
Kjønn = Kjonn,
Tilfredshet = Sp59g,
Motivasjon = SpMotEng_ny,
Barn = barn05,
# Jobbressurser
Støtte_sjef = QPS72_ny,
Støtte_kollega = QPS73_ny,
Tilbakemelding_sjef = Raad3a_ny,
Arbeidsresultater = QPS78_ny,
Grad_selvbestemming_oppgaver = Sp56a2,
Grad_selvbestemming_arbeid_som_skal_gjøres = Sp56b2,
Grad_arbeidstempo = QPS47,
Grad_påvirke_beslutning_arbeid = QPS53,
# Jobbkrav
For_mye_arbeid = QPS15_ny,
Høyt_arbeidstempo = QPS14_ny,
Ekstra_arbeid = Sp47f) %>%
#fjerner NA verdier
drop_na()
View(NSD3201)
View(NSD3201)
View(NSD3201)
ggplot(df, aes(bruttofinanskapital_i_alt)) + geom_histogram()
ggplot(NSD3201, aes(bruttofinanskapital_i_alt)) + geom_histogram()
ggplot(NSD3201, aes(Formue)) + geom_histogram()
NSD3201 <- NSD3201 %>%
mutate(
Formue_grupper = ntile(Formue, 3),
Formue_grupper = factor(Formue_grupper,
levels = 1:3,
labels = c("Lav Formue", "Middels formue", "Høy formue")),
)
View(NSD3201)
NSD3201 %>%
count(Formue_grupper)
NSD3201 <- NSD3201 %>%
mutate(Log_formue = log1p(Formue))
ggplot(NSD3201, aes(Log_Formue)) + geom_histogram()
ggplot(NSD3201, aes(Log_formue)) + geom_histogram()
ggplot(NSD3201, aes(Log_formue)) + geom_histogram(bins = 30, fill = "blue", color = "black") +
labs(title = "Histogram av formue", x = "Log formue", y = "Antall observasjoner") +
theme_minimal()
# Ser verdier for formuegruppene
grenseverdier <- quantile(
NSD3201$Formue,
probs = c(0, 1/3, 2/3, 1),
na.rm = TRUE
)
print(grenseverdier)
# Deler alder inn i likt breddeintervall
NSD3201 <- NSD3201 %>%
mutate(
Alder_grupper = cut(Alder,
breaks = c(18, 30, 40, 50, 60, 66),
right = FALSE,
labels = c("18–29", "30–39", "40–49", "50–59", "60–66")
)
)
View(NSD3201)
ggplot(NSD3201, aes(Alder_grupper)) + geom_histogram(bins = 30, fill = "blue", color = "black") +
labs(title = "Histogram av formue", x = "Log formue", y = "Antall observasjoner") +
theme_minimal()
ggplot(NSD3201, aes(Alder)) + geom_histogram(bins = 30, fill = "blue", color = "black") +
labs(title = "Histogram av formue", x = "Log formue", y = "Antall observasjoner") +
theme_minimal()
ggplot(NSD3201, aes(Alder)) + geom_histogram(bins = 30, fill = "blue", color = "black") +
labs(title = "Histogram av formue", x = "", y = "Antall observasjoner") +
theme_minimal()
ggplot(NSD3201, aes(Alder)) + geom_histogram( fill = "blue", color = "black") +
labs(title = "Histogram av formue", x = "", y = "Antall observasjoner") +
theme_minimal()
ggplot(NSD3201, aes(Alder)) + geom_histogram(fill = "blue", color = "black") +
labs(title = "Histogram av formue", x = "", y = "Antall observasjoner") +
theme_minimal()
bins = 30,
ggplot(NSD3201, aes(Alder)) + geom_histogram(bins = 30, fill = "blue", color = "black") +
labs(title = "Histogram av formue", x = "", y = "Antall observasjoner") +
theme_minimal()
ggplot(NSD3201, aes(Alder)) + geom_histogram(bins = 30, fill = "blue", color = "black") +
labs(title = "e", x = "", y = "Antall observasjoner") +
theme_minimal()
ggplot(NSD3201, aes(Alder)) + geom_histogram(bins = 30, fill = "blue", color = "black") +
labs(title = "", x = "", y = "Antall observasjoner") +
theme_minimal()
# Fikser Kjønn variabelen fra 1 og 2 til dummy
NSD3201 <- NSD3201 %>%
mutate(Kvinne = if_else(Kjønn == 2, 1L, 0L))
# Lager færre nivåer på utdanning for enklere tolkning
NSD3201 <- NSD3201 %>%
filter(utdnivaa != 9) %>%  # dropp uoppgitt helt
mutate(
utd_cat = case_when(
utdnivå %in% 2                     ~ "Grunnskole eller mindre",
utdnivå %in% c(3, 4, 5)            ~ "Videregående",
utdnivå %in% c(6, 7)               ~ "Universitet/Høgskole",
utdnivå == 8                       ~ "Forskernivå"
),
utd_cat = factor(
utd_cat,
levels = c(
"Grunnskole eller mindre",
"Videregående",
"Universitet/Høgskole",
"Forskernivå"
)
)
)
# Lager færre nivåer på utdanning for enklere tolkning
NSD3201 <- NSD3201 %>%
filter(Utdanning != 9) %>%  # dropp uoppgitt helt
mutate(
utd_cat = case_when(
utdnivå %in% 2                     ~ "Grunnskole eller mindre",
utdnivå %in% c(3, 4, 5)            ~ "Videregående",
utdnivå %in% c(6, 7)               ~ "Universitet/Høgskole",
utdnivå == 8                       ~ "Forskernivå"
),
utd_cat = factor(
utd_cat,
levels = c(
"Grunnskole eller mindre",
"Videregående",
"Universitet/Høgskole",
"Forskernivå"
)
)
)
# Lager færre nivåer på utdanning for enklere tolkning
NSD3201 <- NSD3201 %>%
filter(Utdanning != 9) %>%  # dropp uoppgitt helt
mutate(
utd_cat = case_when(
Utdanning %in% 2                     ~ "Grunnskole eller mindre",
Utdanning %in% c(3, 4, 5)            ~ "Videregående",
Utdanning %in% c(6, 7)               ~ "Universitet/Høgskole",
Utdanning == 8                       ~ "Forskernivå"
),
utd_cat = factor(
utd_cat,
levels = c(
"Grunnskole eller mindre",
"Videregående",
"Universitet/Høgskole",
"Forskernivå"
)
)
)
