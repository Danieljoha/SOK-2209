axis.title.x = element_text(size = 16),
axis.title.y = element_text(size = 16),
strip.text = element_text(size = 16))
# Søylediagram for kategoriske variabler samlet for kjønn, utdanning og formuegrupper
df_long <- NSD3201 %>%
select(Formue_grupper, Utdanning_grupper, kjønn_f) %>%
pivot_longer(
cols      = c(Formue_grupper, Utdanning_grupper),
names_to  = "variabel",
values_to = "kategori"
) %>%
count(variabel, kjønn_f, kategori) %>%
group_by(variabel, kjønn_f) %>%
mutate(
pct = n / sum(n) * 100
) %>%
ungroup()
fig_5 <- ggplot(df_long, aes(x = kategori, y = pct, fill = kjønn_f)) +
geom_col(position = position_dodge(width = 0.9),color="black") +
geom_text(aes(label = paste0(round(pct, 1), "%")),
position = position_dodge(width = 0.8),
vjust = -0.5, size = 4) +
facet_wrap(~ variabel,
scales = "free_x",
labeller = labeller(
variabel = c(
Formue_grupper       = "Formuefordeling",
Utdanning_grupper   = "Utdanning"))) +
labs(x     = "",
y     = "",
fill  = "",
title = "")+
theme_minimal(base_size = 12) +
theme(
strip.text       = element_text(size = 16),
axis.text.y = element_text(size = 14),
axis.title.x = element_text(size = 16),
axis.title.y = element_text(size = 16),
axis.text.x      = element_text(size = 14, angle = 30, hjust = 1),
legend.position  = "bottom")+
scale_y_continuous(breaks = seq(0, 60, by = 10),
limits = c(0, 60))+
scale_fill_manual(values = c("steelblue", "palevioletred"))
ggsave("dokumentobjekter/figurer/fig_5.png", plot = fig_4, width = 8, height = 5)
NSD3201 %>%
ggplot(aes(x = Formue_grupper, y = Sykefravær_2022)) +
geom_boxplot(aes(fill = Formue_grupper), color = "black") +
labs(title = "",
x = "Formuegruppe",
y = "Sykefravær i prosent") +
theme_minimal()+
# endrer på y og x akse størrelse på skrift
theme(axis.text.x = element_text(size = 14),
axis.text.y = element_text(size = 14),
axis.title.x = element_text(size = 16),
axis.title.y = element_text(size = 16),
strip.text = element_text(size = 16))+
scale_x_discrete(labels=c("Lav", "Middels", "Høy"))
NSD3201 %>%
ggplot(aes(x = Formue_grupper, y = Sykefravær_2022)) +
geom_boxplot(aes(fill = Formue_grupper), color = "black") +
labs(title = "",
x = "Formuegruppe",
y = "Sykefravær i prosent") +
theme_minimal()+
# endrer på y og x akse størrelse på skrift
theme(axis.text.x = element_text(size = 14),
axis.text.y = element_text(size = 14),
axis.title.x = element_text(size = 16),
axis.title.y = element_text(size = 16),
strip.text = element_text(size = 16))+
scale_x_discrete(labels=c("Lav", "Middels", "Høy"))+
# geom jitter for individuelle observasjoner
geom_jitter(aes(color = Formue_grupper),
position = position_jitter(width = 0.2),
alpha = 0.5)
ggplot(NSD3201, aes(x = Formue_grupper, y = Sykefravær_2022)) +
geom_jitter(color = "grey50",
position = position_jitter(width = 0.2),
size = 1,
alpha = 0.3) +
geom_boxplot(aes(fill = Formue_grupper),
color = "black",
width = 0.4,
outlier.shape = NA) +
scale_x_discrete(labels = c("Lav", "Middels", "Høy")) +
labs(x = "Formuegruppe", y = "Sykefravær (%)") +
theme_minimal(base_size = 14)
NSD3201 %>%
ggplot(aes(x = Formue_grupper, y = Sykefravær_2022)) +
geom_jitter(aes(color = Formue_grupper),
position = position_jitter(width = 0.2),
alpha = 0.5)+
geom_boxplot(aes(fill = Formue_grupper), color = "black") +
labs(title = "",
x = "Formuegruppe",
y = "Sykefravær i prosent") +
theme_minimal()+
# endrer på y og x akse størrelse på skrift
theme(axis.text.x = element_text(size = 14),
axis.text.y = element_text(size = 14),
axis.title.x = element_text(size = 16),
axis.title.y = element_text(size = 16),
strip.text = element_text(size = 16))+
scale_x_discrete(labels=c("Lav", "Middels", "Høy"))
NSD3201 %>%
ggplot(aes(x = Formue_grupper, y = Sykefravær_2022)) +
geom_jitter(aes(color = Formue_grupper),
position = position_jitter(width = 0.2),
alpha = 0.5)+
geom_boxplot(aes(fill = Formue_grupper), color = "black") +
labs(title = "",
x = "Formuegruppe",
y = "Sykefravær i prosent") +
theme_minimal()+
# endrer på y og x akse størrelse på skrift
theme(axis.text.x = element_text(size = 14),
axis.text.y = element_text(size = 14),
axis.title.x = element_text(size = 16),
axis.title.y = element_text(size = 16),
strip.text = element_text(size = 16))+
scale_x_discrete(labels=c("Lav", "Middels", "Høy"))+
scale_y_continuous(breaks = seq(0, 80, by = 10),
limits = c(0, 80))+
#ggsave("dokumentobjekter/figurer/fig_6.png", plot = fig_6, width = 8, height = 5)
```
NSD3201 %>%
ggplot(aes(x = Formue_grupper, y = Sykefravær_2022)) +
geom_jitter(aes(color = Formue_grupper),
position = position_jitter(width = 0.2),
alpha = 0.5)+
geom_boxplot(aes(fill = Formue_grupper), color = "black") +
labs(title = "",
x = "Formuegruppe",
y = "Sykefravær i prosent") +
theme_minimal()+
# endrer på y og x akse størrelse på skrift
theme(axis.text.x = element_text(size = 14),
axis.text.y = element_text(size = 14),
axis.title.x = element_text(size = 16),
axis.title.y = element_text(size = 16),
strip.text = element_text(size = 16))+
scale_x_discrete(labels=c("Lav", "Middels", "Høy"))+
scale_y_continuous(breaks = seq(0, 80, by = 10),
limits = c(0, 80))
NSD3201 %>%
ggplot(aes(x = Formue_grupper, y = Sykefravær_2022)) +
geom_jitter(aes(color = Formue_grupper),
position = position_jitter(width = 0.2),
alpha = 0.5)+
geom_boxplot(aes(fill = Formue_grupper), color = "black") +
labs(title = "",
x = "Formuegruppe",
y = "Sykefravær i prosent") +
theme_minimal()+
# endrer på y og x akse størrelse på skrift
theme(axis.text.x = element_text(size = 14),
axis.text.y = element_text(size = 14),
axis.title.x = element_text(size = 16),
axis.title.y = element_text(size = 16),
strip.text = element_text(size = 16))+
scale_x_discrete(labels=c("Lav", "Middels", "Høy"))+
scale_y_continuous(breaks = seq(0, 100, by = 10),
limits = c(0, 100))
NSD3201 %>%
ggplot(aes(x = Formue_grupper, y = Sykefravær_2022)) +
geom_jitter(aes(color = Formue_grupper),
position = position_jitter(width = 0.2),
alpha = 0.5)+
geom_boxplot(aes(fill = Formue_grupper), color = "black") +
labs(title = "",
x = "Formuegruppe",
y = "Sykefravær i prosent") +
theme_minimal()+
# endrer på y og x akse størrelse på skrift
theme(axis.text.x = element_text(size = 14),
axis.text.y = element_text(size = 14),
axis.title.x = element_text(size = 16),
axis.title.y = element_text(size = 16),
strip.text = element_text(size = 16))+
scale_x_discrete(labels=c("Lav", "Middels", "Høy"))
NSD3201 %>%
ggplot(aes(x = Formue_grupper, y = Sykefravær_2022)) +
geom_jitter(aes(color = Formue_grupper),
position = position_jitter(width = 0.2),
alpha = 0.5)+
geom_boxplot(aes(fill = Formue_grupper), color = "black") +
labs(title = "",
x = "Formuegruppe",
y = "Sykefravær i prosent") +
theme_minimal()+
# endrer på y og x akse størrelse på skrift
theme(axis.text.x = element_text(size = 14),
axis.text.y = element_text(size = 14),
axis.title.x = element_text(size = 16),
axis.title.y = element_text(size = 16),
strip.text = element_text(size = 16))+
scale_x_discrete(labels=c("Lav", "Middels", "Høy"))+
scale_y_continuous(breaks = seq(0, 100, by = 10),
limits = c(0, 100))
NSD3201 %>%
ggplot(aes(x = Formue_grupper, y = Sykefravær_2022)) +
geom_jitter(aes(color = Formue_grupper),
position = position_jitter(width = 0.2),
alpha = 0.5)+
geom_boxplot(aes(fill = Formue_grupper), color = "black") +
labs(title = "",
x = "Formuegruppe",
y = "Sykefravær i prosent") +
theme_minimal()+
# endrer på y og x akse størrelse på skrift
theme(axis.text.x = element_text(size = 14),
axis.text.y = element_text(size = 14),
axis.title.x = element_text(size = 16),
axis.title.y = element_text(size = 16),
strip.text = element_text(size = 16))+
scale_x_discrete(labels=c("Lav", "Middels", "Høy"))+
scale_y_continuous(breaks = seq(0, 100, by = 20),
limits = c(0, 100))
NSD3201 %>%
ggplot(aes(x = Formue_grupper, y = Sykefravær_2022)) +
geom_jitter(aes(color = Formue_grupper),
position = position_jitter(width = 0.2),
alpha = 0.5)+
geom_boxplot(aes(fill = Formue_grupper), color = "black") +
labs(title = "",
x = "Formuegruppe",
y = "Sykefravær i prosent") +
theme_minimal()+
# endrer på y og x akse størrelse på skrift
theme(axis.text.x = element_text(size = 14),
axis.text.y = element_text(size = 14),
axis.title.x = element_text(size = 16),
axis.title.y = element_text(size = 16),
strip.text = element_text(size = 16))+
scale_x_discrete(labels=c("Lav", "Middels", "Høy"))+
scale_y_continuous(breaks = seq(0, 100, by = 20))
View(NSD3201)
NSD3201 %>%
ggplot(aes(x = Formue_grupper, y = Sykefravær_2022)) +
geom_jitter(aes(color = Formue_grupper),
position = position_jitter(width = 0.2),
alpha = 0.5)+
geom_boxplot(aes(fill = Formue_grupper), color = "black") +
labs(title = "",
x = "Formuegruppe",
y = "Sykefravær i prosent") +
theme_minimal()+
# endrer på y og x akse størrelse på skrift
theme(axis.text.x = element_text(size = 14),
axis.text.y = element_text(size = 14),
axis.title.x = element_text(size = 16),
axis.title.y = element_text(size = 16),
strip.text = element_text(size = 16))+
scale_x_discrete(labels=c("Lav", "Middels", "Høy"))+
scale_y_continuous(breaks = seq(0, 100, by = 20),
limits = c(0, 100))
NSD3201 %>%
ggplot(aes(x = Formue_grupper, y = Sykefravær_2022)) +
geom_jitter(aes(color = Formue_grupper),
position = position_jitter(width = 0.2),
alpha = 0.5)+
geom_boxplot(aes(fill = Formue_grupper), color = "black") +
labs(title = "",
x = "Formuegruppe",
y = "Sykefravær i prosent") +
theme_minimal()+
# endrer på y og x akse størrelse på skrift
theme(axis.text.x = element_text(size = 14),
axis.text.y = element_text(size = 14),
axis.title.x = element_text(size = 16),
axis.title.y = element_text(size = 16),
strip.text = element_text(size = 16))+
scale_x_discrete(labels=c("Lav", "Middels", "Høy"))+
scale_y_continuous(breaks = seq(0, 100, by = 20),
limits = c(0, 100))+
scale_fill_manual(values = c("steelblue", "palevioletred", "lightgreen"))
NSD3201 %>%
ggplot(aes(x = Formue_grupper, y = Sykefravær_2022)) +
geom_jitter(aes(fill = Formue_grupper),
position = position_jitter(width = 0.2),
alpha = 0.5)+
geom_boxplot(aes(fill = Formue_grupper), color = "black") +
labs(title = "",
x = "Formuegruppe",
y = "Sykefravær i prosent") +
theme_minimal()+
# endrer på y og x akse størrelse på skrift
theme(axis.text.x = element_text(size = 14),
axis.text.y = element_text(size = 14),
axis.title.x = element_text(size = 16),
axis.title.y = element_text(size = 16),
strip.text = element_text(size = 16))+
scale_x_discrete(labels=c("Lav", "Middels", "Høy"))+
scale_y_continuous(breaks = seq(0, 100, by = 20),
limits = c(0, 100))+
scale_fill_manual(values = c("steelblue", "palevioletred", "lightgreen"))
NSD3201 %>%
ggplot(aes(x = Formue_grupper, y = Sykefravær_2022)) +
geom_jitter(aes(color = Formue_grupper),
position = position_jitter(width = 0.2),
alpha = 0.5)+
geom_boxplot(aes(fill = Formue_grupper), color = "black") +
labs(title = "",
x = "Formuegruppe",
y = "Sykefravær i prosent") +
theme_minimal()+
# endrer på y og x akse størrelse på skrift
theme(axis.text.x = element_text(size = 14),
axis.text.y = element_text(size = 14),
axis.title.x = element_text(size = 16),
axis.title.y = element_text(size = 16),
strip.text = element_text(size = 16))+
scale_x_discrete(labels=c("Lav", "Middels", "Høy"))+
scale_y_continuous(breaks = seq(0, 100, by = 20),
limits = c(0, 100))+
scale_fill_manual(values = c("steelblue", "palevioletred", "lightgreen"))
NSD3201 %>%
ggplot(aes(x = Formue_grupper, y = Sykefravær_2022)) +
geom_jitter(aes(color = Formue_grupper),
position = position_jitter(width = 0.2),
alpha = 0.5)+
geom_boxplot(aes(fill = Formue_grupper), color = "black") +
labs(title = "",
x = "Formuegruppe",
y = "Sykefravær i prosent") +
theme_minimal()+
# endrer på y og x akse størrelse på skrift
theme(axis.text.x = element_text(size = 14),
axis.text.y = element_text(size = 14),
axis.title.x = element_text(size = 16),
axis.title.y = element_text(size = 16),
strip.text = element_text(size = 16))+
scale_x_discrete(labels=c("Lav", "Middels", "Høy"))+
scale_y_continuous(breaks = seq(0, 100, by = 20),
limits = c(0, 100))+
scale_fill_manual(values = c("steelblue", "palevioletred", "lightgreen"))+
scale_color_manual(values = c("steelblue", "palevioletred", "lightgreen"))
NSD3201 %>%
ggplot(aes(x = Formue_grupper, y = Sykefravær_2022)) +
geom_jitter(aes(color = Formue_grupper),
position = position_jitter(width = 0.2),
alpha = 0.5)+
geom_boxplot(aes(fill = Formue_grupper), color = "black") +
labs(title = "",
x = "Formuegruppe",
y = "Sykefravær i prosent") +
theme_minimal()+
# endrer på y og x akse størrelse på skrift
theme(axis.text.x = element_text(size = 14),
axis.text.y = element_text(size = 14),
axis.title.x = element_text(size = 16),
axis.title.y = element_text(size = 16),
strip.text = element_text(size = 16),
legend.position = "bottom")+
scale_x_discrete(labels=c("Lav", "Middels", "Høy"))+
scale_y_continuous(breaks = seq(0, 100, by = 20),
limits = c(0, 100))+
scale_fill_manual(values = c("steelblue", "palevioletred", "lightgreen"))+
scale_color_manual(values = c("steelblue", "palevioletred", "lightgreen"))
NSD3201 %>%
ggplot(aes(x = Formue_grupper, y = Sykefravær_2022)) +
geom_jitter(aes(color = Formue_grupper),
position = position_jitter(width = 0.2),
alpha = 0.5)+
geom_boxplot(aes(fill = Formue_grupper), color = "black") +
labs(title = "",
x = "",
y = "Sykefravær i prosent",
fill= "Formuegrupper") +
theme_minimal()+
# endrer på y og x akse størrelse på skrift
theme(axis.text.x = element_text(size = 14),
axis.text.y = element_text(size = 14),
axis.title.x = element_text(size = 16),
axis.title.y = element_text(size = 16),
strip.text = element_text(size = 16),
legend.position = "bottom")+
scale_x_discrete(labels=c("Lav", "Middels", "Høy"))+
scale_y_continuous(breaks = seq(0, 100, by = 20),
limits = c(0, 100))+
scale_fill_manual(values = c("steelblue", "palevioletred", "lightgreen"))+
scale_color_manual(values = c("steelblue", "palevioletred", "lightgreen"))
NSD3201 %>%
ggplot(aes(x = Formue_grupper, y = Sykefravær_2022)) +
geom_jitter(aes(color = Formue_grupper),
position = position_jitter(width = 0.2),
alpha = 0.5)+
geom_boxplot(aes(fill = Formue_grupper), color = "black") +
labs(title = "",
x = "",
y = "Sykefravær i prosent",
color= "Formuegrupper") +
theme_minimal()+
# endrer på y og x akse størrelse på skrift
theme(axis.text.x = element_text(size = 14),
axis.text.y = element_text(size = 14),
axis.title.x = element_text(size = 16),
axis.title.y = element_text(size = 16),
strip.text = element_text(size = 16),
legend.position = "bottom")+
scale_x_discrete(labels=c("Lav", "Middels", "Høy"))+
scale_y_continuous(breaks = seq(0, 100, by = 20),
limits = c(0, 100))+
scale_fill_manual(values = c("steelblue", "palevioletred", "lightgreen"))+
scale_color_manual(values = c("steelblue", "palevioletred", "lightgreen"))
NSD3201 %>%
ggplot(aes(x = Formue_grupper, y = Sykefravær_2022)) +
geom_jitter(aes(color = Formue_grupper),
position = position_jitter(width = 0.2),
alpha = 0.5)+
geom_boxplot(aes(fill = Formue_grupper), color = "black") +
labs(title = "",
x = "",
y = "Sykefravær i prosent",
color= "Formuegrupper",
fill = "Formuegrupper") +
theme_minimal()+
# endrer på y og x akse størrelse på skrift
theme(axis.text.x = element_text(size = 14),
axis.text.y = element_text(size = 14),
axis.title.x = element_text(size = 16),
axis.title.y = element_text(size = 16),
strip.text = element_text(size = 16),
legend.position = "bottom")+
scale_x_discrete(labels=c("Lav", "Middels", "Høy"))+
scale_y_continuous(breaks = seq(0, 100, by = 20),
limits = c(0, 100))+
scale_fill_manual(values = c("steelblue", "palevioletred", "lightgreen"))+
scale_color_manual(values = c("steelblue", "palevioletred", "lightgreen"))
NSD3201 %>%
ggplot(aes(x = Formue_grupper, y = Sykefravær_2022)) +
geom_jitter(aes(color = Formue_grupper),
position = position_jitter(width = 0.2),
alpha = 0.5)+
geom_boxplot(aes(fill = Formue_grupper), color = "black") +
labs(title = "",
x = "",
y = "Sykefravær i prosent",
color= "Formuegruppe",
fill = "Formuegruppe") +
theme_minimal()+
# endrer på y og x akse størrelse på skrift
theme(axis.text.x = element_text(size = 14),
axis.text.y = element_text(size = 14),
axis.title.x = element_text(size = 16),
axis.title.y = element_text(size = 16),
strip.text = element_text(size = 16),
legend.position = "bottom")+
scale_x_discrete(labels=c("Lav", "Middels", "Høy"))+
scale_y_continuous(breaks = seq(0, 100, by = 20),
limits = c(0, 100))+
scale_fill_manual(values = c("steelblue", "palevioletred", "lightgreen"))+
scale_color_manual(values = c("steelblue", "palevioletred", "lightgreen"))
utd_summ <- NSD3201 %>%
group_by(Utdanning_grupper) %>%
summarise(
N       = n(),
pct     = round(N / nrow(NSD3201) * 100, 1),
mean_sf = round(mean(Sykefravær_2022, na.rm = TRUE), 2),
sd_sf   = round(sd(Sykefravær_2022, na.rm = TRUE), 2)
)
print(utd_summ)
NSD3201 %>%
ggplot(aes(x = Utdanning_grupper, y = Sykefravær_2022)) +
geom_jitter(aes(color = Utdanning_grupper),
position = position_jitter(width = 0.2),
alpha = 0.5)+
geom_boxplot(aes(fill = Utdanning_grupper), color = "black") +
labs(title = "",
x = "Utdanningsnivå",
y = "Sykefravær i prosent",
color= "",
fill = "") +
theme_minimal()+
# endrer på y og x akse størrelse på skrift
theme(axis.text.x = element_text(size = 14),
axis.text.y = element_text(size = 14),
axis.title.x = element_text(size = 16),
axis.title.y = element_text(size = 16),
strip.text = element_text(size = 16),
legend.position = "none")+
scale_x_discrete(labels=c("Grunnskole eller mindre", "Videregående", "Universitet/Høgskole"))+
scale_y_continuous(breaks = seq(0, 100, by = 10),
limits = c(0, 100))+
scale_fill_manual(values = c("steelblue", "palevioletred", "lightgreen"))+
scale_color_manual(values = c("steelblue", "palevioletred", "lightgreen"))
NSD3201 %>%
ggplot(aes(x = Formue_grupper, y = Sykefravær_2022)) +
geom_jitter(aes(color = Formue_grupper),
position = position_jitter(width = 0.2),
alpha = 0.5)+
geom_boxplot(aes(fill = Formue_grupper), color = "black") +
labs(title = "",
x = "Formuegruppe",
y = "Sykefravær i prosent",
color= "",
fill = "") +
theme_minimal()+
# endrer på y og x akse størrelse på skrift
theme(axis.text.x = element_text(size = 14),
axis.text.y = element_text(size = 14),
axis.title.x = element_text(size = 16),
axis.title.y = element_text(size = 16),
strip.text = element_text(size = 16),
legend.position = "none")+
scale_x_discrete(labels=c("Lav", "Middels", "Høy"))+
scale_y_continuous(breaks = seq(0, 100, by = 10),
limits = c(0, 100))+
scale_fill_manual(values = c("steelblue", "palevioletred", "lightgreen"))+
scale_color_manual(values = c("steelblue", "palevioletred", "lightgreen"))
library(lavaan)
